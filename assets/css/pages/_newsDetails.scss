.gallery {
  --gap: 1rem;
  --min-height: 20rem;
  --image-background: hsla(0, 0%, 0%, 0.2);
  --last-background: none;

  display: flex;
  flex-wrap: wrap;
  grid-gap: var(--gap);
  margin: 2.75rem;

  pointer-events: none;

  &:hover {
    article {
      opacity: 0.6;
    }
  }

  article {
    position: relative;
    overflow: hidden;
    background-color: var(--image-background);
    box-shadow: 0 0.125rem 0.25rem rgb(0 0 0 / 14%),
      0 0 0.125rem rgb(0 0 0 / 12%);
    pointer-events: auto;
    transition: opacity 500ms linear;
    flex-grow: calc(400 * (100000 / 600));
    flex-basis: calc(var(--min-height) * (400 / 600));
    aspect-ratio: 400/ 600;
    a {
      display: block;
      height: 100%;
    }

    &:nth-of-type(1) {
      flex-grow: calc(800 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (800 / 600));
      aspect-ratio: 800 / 600;
    }
    &:nth-of-type(2) {
      flex-grow: calc(600 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (600 / 600));
      aspect-ratio: 600 / 600;
    }
    &:nth-of-type(3) {
      flex-grow: calc(1000 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (1000 / 600));
      aspect-ratio: 1000 / 600;
    }
    &:nth-of-type(4) {
      flex-grow: calc(400 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (400 / 600));
      aspect-ratio: 400/ 600;
    }
    &:nth-of-type(5) {
      flex-grow: calc(600 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (600 / 600));
      aspect-ratio: 600/ 600;
    }
    &:nth-of-type(6) {
      flex-grow: calc(700 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (700 / 600));
      aspect-ratio: 700/ 600;
    }
    &:nth-of-type(7) {
      flex-grow: calc(1000 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (1000 / 600));
      aspect-ratio: 1000/ 600;
    }
    &:nth-of-type(8) {
      flex-grow: calc(500 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (500 / 600));
      aspect-ratio: 500/ 600;
    }
    &:nth-of-type(9) {
      flex-grow: calc(500 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (500 / 600));
      aspect-ratio: 500/ 600;
    }
    &:nth-of-type(10) {
      flex-grow: calc(800 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (800 / 600));
      aspect-ratio: 800/ 600;
    }
    &:nth-of-type(11) {
      flex-grow: calc(1000 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (1000 / 600));
      aspect-ratio: 1000/ 600;
    }
    &:nth-of-type(12) {
      flex-grow: calc(200 * (100000 / 600));
      flex-basis: calc(var(--min-height) * (200 / 600));
      aspect-ratio: 200/ 600;
    }

    img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    &::after {
      content: " ";
      position: absolute;
      opacity: 0;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background: linear-gradient(
        rgba(0, 0, 0, 0) 0% 80%,
        rgba(0, 0, 0, 0.501961) 98% 100%
      );
      pointer-events: none;
      transition: opacity 250ms linear;
      z-index: 1;
    }

    &:hover {
      opacity: 1;
      box-shadow: 0 0.25rem 0.25rem rgb(0 0 0 / 14%),
        0 0 0.25rem rgb(0 0 0 / 12%);

      &::after {
        opacity: 1;
      }

      picture + details {
        opacity: 1;
      }
    }
  }
  &:after {
    content: " ";
    flex-grow: 1000000000;
    background: var(--last-background);
  }
}
